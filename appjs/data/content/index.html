<!DOCTYPE html>
<html lang="en" >
    <head>
        <meta charset="utf-8" />
        <title>HTML5 Game Development - Lesson 7 | Script Tutorials</title>
        <link href="css/main.css" rel="stylesheet" type="text/css" />
        <script src="js/jquery-1.5.2.min.js"></script>
        <script src="js/script.js"></script>
    </head>
    <body>
            <!--<canvas id="scene" width="800" height="600"></canvas>-->
            <div id="main" style="color:#000">
		      <h1>Paths:</h1>
		      <ul id="paths"></ul>
		    </div>
		    <div id="t" style="color:#000"></div>
            <script>
				addEventListener('app-ready', function(e){
				  var fs   = require('fs'),
				      path = require('path'),
				      cwd  = process.cwd(),
				      ul   = document.getElementById('paths');
				
				  fs.readdirSync(cwd).forEach(function(child){
				    var li = document.createElement('li');
				    li.textContent = path.resolve(cwd, child);
				    ul.appendChild(li);
				  });
				
				  //document.getElementById('t').innerHTML = 'stdout: '+window.so+', stderr: '+window.se+', sx: '+window.sx;
				  //document.getElementById('t').innerHTML = 'c: '+c.stdout;
				  
				  /*
				  for (var key in c) {
				  	if(key == 'stdout'){
				  		for(var key2 in c[key])
				  			document.getElementById('t').innerHTML += 'k: '+key2+', o: '+c[key][key2]+'<br/>';
				  	}
					  	//document.getElementById('t').innerHTML += 'k: '+key+', o: '+c[key]+'<br/>';
				  }
				  */
				
				  window.dispatchEvent(new Event('app-done'));
				});
				/*
				function httpGet()
				{
					var theUrl = 'http://127.0.0.1:8000';
					
				    if (window.XMLHttpRequest)
				    {// code for IE7+, Firefox, Chrome, Opera, Safari
				        xmlhttp=new XMLHttpRequest();
				    }
				    else
				    {// code for IE6, IE5
				        xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
				    }
				    xmlhttp.onreadystatechange=function()
				    {
				        if (xmlhttp.readyState==4 && xmlhttp.status==200)
				        {
				        	document.getElementById('t').innerHTML = xmlhttp.responseText;
				            //return xmlhttp.responseText;
				        }
				    }
				    xmlhttp.open("GET", theUrl, false );
				    xmlhttp.send();    
				}
				
				httpGet();
				*/
            </script>
    </body>
</html>